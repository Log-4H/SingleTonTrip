<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="pageMapper">
<!-- 포스트 리스트 -->
<select id="postList" parameterType="map" resultType="com.log4h.singletontrip.page.domain.PostVo">
	SELECT
		post_no,
		member_id,
		post_title,
		post_content,
		post_img,
		post_reg_date,
		post_view_count
	FROM
		tb_post
	WHERE
		member_id = #{memberId}
	ORDER BY post_reg_date DESC
	LIMIT #{beginRow}, 5
</select>

<!-- 포스트 등록 -->
<insert id="postInsert" parameterType="com.log4h.singletontrip.page.domain.PostVo">
	INSERT INTO tb_post(
		member_id,
		post_title,
		post_content,
		post_reg_date
		<if test="postImg != null and postImg !=''">
		,post_img
		</if>
	)
	VALUES(
		#{memberId},
		#{postTitle},
		#{postContent},
		now()
		<if test="postImg != null and postImg !=''">
		,#{postImg}
		</if>
	)
</insert>
</mapper>